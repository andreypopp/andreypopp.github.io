{"version":3,"file":"static/webpack/static/development/pages/index.js.271a71f0930b6a73e7b0.hot-update.js","sources":["webpack:///./Page.js"],"sourcesContent":["// @flow\n\nimport * as React from 'react';\nimport { ScrollView, View, Text } from 'react-native';\nimport * as Icon from 'react-feather';\nimport * as UI from 'ui';\nimport * as Style from 'ui/Style';\n\nlet scrollPositionByPath = new Map();\n\nexport let Page = ({\n  children,\n  title,\n  subtitle,\n  showBackLink,\n}: {|\n  children: React.Node,\n  title?: string | string[],\n  subtitle?: React.Node,\n  showBackLink?: boolean,\n|}) => {\n  let [size, sizeRef] = UI.useDOMSize();\n  let isWideScreen = size != null && size.width > 700;\n\n  React.useEffect(() => {\n    if (title) {\n      document.title = Array.isArray(title) ? title.join() : title;\n    } else {\n      document.title = `@andreypopp`;\n    }\n  }, [title]);\n\n  let layoutStyle = UI.useStyle(\n    theme => ({\n      width: isWideScreen ? 700 : 350,\n    }),\n    [isWideScreen],\n  );\n\n  let styles = UI.useStyles(theme => ({\n    root: {\n      backgroundColor: theme.backgroundColor,\n      flexGrow: 1,\n    },\n    children: {\n      alignItems: 'flex-start',\n      paddingBottom: 80,\n    },\n    header: {\n      alignItems: 'flex-start',\n    },\n    wrapper: {\n      alignItems: 'center',\n      flexBasis: 0,\n    },\n  }));\n\n  let headerElement = React.useMemo(() => {\n    return (\n      <PageHeader\n        showBackLink={showBackLink}\n        title={title}\n        subtitle={subtitle}\n      />\n    );\n  }, [showBackLink, title, subtitle]);\n\n  let footerElement = React.useMemo(() => {\n    return <PageFooter layoutStyle={layoutStyle} />;\n  }, [layoutStyle]);\n\n  let scrollPositionByPath = React.useRef(new Map());\n\n  React.useEffect(() => {\n    console.log('MOUNT');\n    if (scrollPositionByPath.current.has(window.location.path)) {\n      console.log(scrollPositionByPath.current.get(window.location.path));\n    }\n  }, []);\n\n  let onScroll = React.useCallback(e => {\n    let offsetY = e.nativeEvent.contentOffset.y;\n    scrollPositionByPath.current.set(window.location.path, offsetY);\n  });\n\n  return (\n    <View ref={sizeRef} style={styles.root}>\n      <ScrollView\n        scrollEventThrottle={100}\n        onScroll={onScroll}\n        contentContainerStyle={styles.wrapper}\n      >\n        <View style={[layoutStyle, styles.header]}>{headerElement}</View>\n        <View style={[layoutStyle, styles.children]}>{children}</View>\n      </ScrollView>\n      {footerElement}\n    </View>\n  );\n};\n\nexport let PageFooter = ({ layoutStyle }: {| layoutStyle?: Object |}) => {\n  let styles = UI.useStyles(theme => ({\n    root: {\n      alignItems: 'center',\n      paddingVertical: 20,\n      borderTopWidth: 1,\n      borderTopColor: theme.dimmedColor,\n    },\n    wrapper: {\n      flexDirection: 'row',\n      alignItems: 'center',\n    },\n    credit: {\n      flexGrow: 1,\n    },\n    creditText: {\n      color: theme.dimmedColor,\n      fontSize: '10pt',\n      fontWeight: '600',\n    },\n    creditTextEm: {\n      color: theme.dimmedColor,\n      fontWeight: '900',\n    },\n  }));\n  return (\n    <View style={styles.root}>\n      <View style={[styles.wrapper, layoutStyle]}>\n        <View style={styles.credit}>\n          <Text style={styles.creditText}>\n            by ANDREY<Text style={styles.creditTextEm}>POPP</Text>\n          </Text>\n        </View>\n        <UI.ThemeSwitch />\n      </View>\n    </View>\n  );\n};\n\nexport let Logo = () => {\n  let styles = UI.useStyles(theme => ({\n    titleText: {\n      color: theme.titleColor,\n      fontSize: '22pt',\n      fontWeight: '600',\n    },\n    titleTextBold: {\n      color: theme.titleColor,\n      fontSize: '22pt',\n      fontWeight: '900',\n    },\n  }));\n  return (\n    <>\n      <Text style={styles.titleText}>ANDREY</Text>\n      <Text style={styles.titleTextBold}>POPP</Text>\n    </>\n  );\n};\n\nexport let PageHeader = ({\n  title,\n  subtitle,\n  showBackLink,\n}: {|\n  title?: string | string[],\n  subtitle?: React.Node,\n  showBackLink?: boolean,\n|}) => {\n  let styles = UI.useStyles(theme => ({\n    root: {\n      paddingTop: 50,\n      paddingBottom: 50,\n    },\n    backLink: {\n      display: 'flex',\n      justifyContent: 'flex-start',\n      alignItems: 'center',\n      fontSize: '12pt',\n      fontWeight: '600',\n      textDecorationLine: 'none',\n    },\n    titleRoot: {\n      paddingTop: 50,\n      paddingBottom: 10,\n      flexDirection: 'row',\n    },\n    titleText: {\n      color: theme.titleColor,\n      fontSize: '22pt',\n      fontWeight: '600',\n    },\n    titleTextBold: {\n      color: theme.titleColor,\n      fontSize: '22pt',\n      fontWeight: '900',\n    },\n  }));\n  let titleElement = null;\n  if (title != null) {\n    titleElement = <Text style={styles.titleText}>{title}</Text>;\n  } else {\n    titleElement = <Logo />;\n  }\n  return (\n    <View style={styles.root}>\n      {showBackLink ? (\n        <UI.Link href=\"/\" style={styles.backLink}>\n          <Icon.ArrowLeft size={18} /> back home\n        </UI.Link>\n      ) : null}\n      <View style={styles.titleRoot}>{titleElement}</View>\n      {subtitle}\n    </View>\n  );\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAUA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AADA;AAAA;AAMA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AADA;AAGA;AACA;AACA;AAFA;AAZA;AAAA;AAkBA;AACA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAEA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AAFA;AAIA;AACA;AADA;AAGA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AAFA;AAnBA;AAAA;AAwBA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AAHA;AANA;AAAA;AAYA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAEA;AAQA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AAHA;AAvBA;AAAA;AA6BA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;;;;A","sourceRoot":""}